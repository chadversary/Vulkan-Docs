// Copyright (c) 2016-2017 Khronos Group. This work is licensed under a
// Creative Commons Attribution 4.0 International License; see
// http://creativecommons.org/licenses/by/4.0/

include::meta/VK_EXT_queue_family_foreign.txt[]

*Last Modified Date*::
    2017-11-01
*IP Status*::
    No known IP claims.
*Contributors*::
  - Chad Versace, Google
  - James Jones, NVIDIA
  - Jason Ekstrand, Intel
  - Jesse Hall, Google
  - Ray Smith, ARM

This extension defines a special queue family, ename:VK_QUEUE_FAMILY_FOREIGN_EXT,
which can be used to transfer ownership
of resources backed by external memory
to foreign, external queues.
This is similar to ename:VK_QUEUE_FAMILY_EXTERNAL_KHR,
defined in <<VK_KHR_external_memory>>.
The key differences between the two are:

  * The queues represented by ename:VK_QUEUE_FAMILY_EXTERNAL_KHR
    must share the same physical device and the same driver version
    as the current slink:VkInstance.
    ename:VK_QUEUE_FAMILY_FOREIGN_EXT has no such restrictions.
    It can represent devices and drivers from other vendors,
    and can even represent non-Vulkan-capable devices.
  * All resources backed by external memory support ename:VK_QUEUE_FAMILY_EXTERNAL_KHR.
    Support for ename:VK_QUEUE_FAMILY_FOREIGN_EXT is more restrictive.
  * Applications should expect transitions to/from
    ename:VK_QUEUE_FAMILY_FOREIGN_EXT
    to be more expensive than transitions to/from
    ename:VK_QUEUE_FAMILY_EXTERNAL_KHR.

=== New Enum Constants

  ** Special constants:
  * ename:VK_QUEUE_FAMILY_FOREIGN_EXT

=== Version History

  TODO(chadversary): Squash these internal revisions before merging.

  * Revision 0.5, 2017-11-01 (Chad Versace)
      - Remove VK_IMAGE_CREATE_FOREIGN_QUEUE_BIT_EXT and
        VK_BUFFER_CREATE_FOREIGN_QUEUE_BIT_EXT, due to today's Khronos telco.
      - Specify that it is invalid to use VK_QUEUE_FAMILY_FOREIGN_EXT except
        when allowed by layered extensions.

  * Revision 0.4 2017-10-18 (Chad Versace)
      - Add VK_IMAGE_CREATE_FOREIGN_QUEUE_BIT_EXT and
        VK_BUFFER_CREATE_FOREIGN_QUEUE_BIT_EXT.
      - VK_QUEUE_FAMILY_EXTERNAL_KHR is no longer a subset of
        VK_QUEUE_FAMILY_FOREIGN_EXT.

  * Revision 0.3 2017-10-18 (Chad Versace)
      - Show table column only when VK_EXT_queue_family_foreign is
        enabled.  [found by Ray]
      - In "ownership of external memory can be transferred", say "ownership
        of resources backed by external memory". [for Ray]
      - Fix more typos.

  * Revision 0.2 (Chad Versace)
      - Fix typos. [found by Ray]
      - s/non-GPU/non-Vulkan-capable/ [for Jesse]
      - Add new table "Support for special queue families among external
        memory handle types". [for Ray]

  * Revision 0.1 (Chad Versace)
    - Initial revision
